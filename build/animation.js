!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.animation=e():t.animation=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var i=n(1),r=n(2);function o(t){t&&t()}function s(){this.taskQueue=[],this.index=0,this.timeline=new r,this.state=0}s.prototype.loadImage=function(t){return this._add((function(e){i(t.slice(),e)}),0)},s.prototype.changePosition=function(t,e,n){var i,r,s=e.length;if(s){var a=this;i=function(i,r){n&&(t.style.backgroundImage="url("+n+")");var o=Math.min(r/a.interval|0,s-1),u=e[o].split(" ");t.style.backgroundPosition=u[0]+"px "+u[1]+"px",o===s-1&&i()},r=1}else i=o,r=0;return this._add(i,r)},s.prototype.changeSrc=function(t,e){var n,i,r=e.length;if(r){var s=this;n=function(n,i){var o=Math.min(i/s.interval|0,r-1);t.src=e[o],o===r-1&&n()},i=1}else n=o,i=0;return this._add(n,i)},s.prototype.enterFrame=function(t){return this._add(t,1)},s.prototype.then=function(t){return this._add((function(e){t(),e()}),0)},s.prototype.start=function(t){return 1===this.state?this:this.taskQueue.length?(this.state=1,this.interval=t,this._runTask(),this):this},s.prototype.repeat=function(t){var e=this;return this._add((function(){if(void 0===t)return e.index--,void e._runTask();if(t)t--,e.index--,e._runTask();else{var n=e.taskQueue[e.index];e._next(n)}}),0)},s.prototype.repeatForever=function(){return this.repeat()},s.prototype.wait=function(t){return this.taskQueue&&this.taskQueue.length>0&&(this.taskQueue[this.taskQueue.length-1].wait=t),this},s.prototype.pause=function(){return 1===this.state?(this.state=2,this.timeline.stop(),this):this},s.prototype.restart=function(){return 2===this.state?(this.state=1,this.timeline.restart(),this):this},s.prototype.dispose=function(){return 0!==this.state?(this.state=0,this.taskQueue=null,this.timeline.stop(),this.timeline=null,this):this},s.prototype._add=function(t,e){return this.taskQueue.push({taskFn:t,type:e}),this},s.prototype._runTask=function(){if(this.taskQueue&&1===this.state)if(this.index!==this.taskQueue.length){var t=this.taskQueue[this.index];0===t.type?this._syncTask(t):this._asyncTask(t)}else this.dispose()},s.prototype._syncTask=function(t){var e=this;(0,t.taskFn)((function(){e._next(t)}))},s.prototype._asyncTask=function(t){var e=this;this.timeline.onenterframe=function(n){(0,t.taskFn)((function(){e.timeline.stop(),e._next(t)}),n)},this.timeline.start(this.interval)},s.prototype._next=function(t){this.index++;var e=this;t.wait?setTimeout((function(){e._runTask()}),t.wait):this._runTask(),this._runTask()},t.exports=function(){return new s}},function(t,e,n){"use strict";var i=0;t.exports=function(t,e,n){var r=0,o=!0,s=0,a=!1;for(var u in t)if(t.hasOwnProperty(u)){var c=t[u];"string"==typeof c&&(c=t[u]={src:c}),c&&c.src&&(r++,c.id="__img__"+u+ ++i,c.img=window[c.id]=new Image,h(c))}function h(t){t.status="loading";var n=t.img;n.onload=function(){o&=!0,t.status="loaded",function(){n.onload=n.onerror=null;try{delete window[t.id]}catch(t){}--r||a||(clearTimeout(s),e(o))}()},n.onerror=function(){o=!1,t.status="error"},n.src=t.src}r?n&&(s=setTimeout((function(){a=!0,e(!1)}),n)):e()}},function(t,e,n){"use strict";var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,t.interval||1e3/60)},r=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||function(t){return window.clearTimeout(t)};function o(){this.animationHandler=0,this.state=0}function s(t,e){t.startTime=e,r.interval=t.interval;var n=+new Date;function r(){var o=+new Date;t.animationHandler=i(r),o-n>=t.interval&&(t.onenterframe(o-e),n=o)}r()}o.prototype.onenterframe=function(t){},o.prototype.start=function(t){1!==this.state&&(this.state=1,this.interval=t||1e3/60,s(this,+new Date))},o.prototype.stop=function(){1===this.state&&(this.state=2,this.startTime&&(this.dur=+new Date-this.startTime),r(this.animationHandler))},Animation.prototype.restart=function(){1!==this.state&&this.dur&&this.interval&&(this.state=1,s(this,+new Date-this.dur))},t.exports=o}])}));